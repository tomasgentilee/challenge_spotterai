Fuel Route Optimizer API 
üöõ‚õΩA high-performance Django REST API that calculates optimal truck routes across the USA. It intelligently identifies cost-effective fuel stops along the route, minimizing route deviation while maximizing fuel savings.
üöÄ Key FeaturesSmart 
Routing: Uses OpenRouteService (ORS) to generate accurate driving geometries.
Cost Optimization: selects gas stations based on a weighted score of Fuel Price vs. Route Deviation.
High Performance:Uses Scikit-learn BallTree for spatial indexing ($O(\log n)$ search).
Implements NumPy Vectorization to calculate route projections in milliseconds, replacing slow iterative loops.
Visual Output: Generates interactive Folium (Leaflet) maps showing the route, stops, and prices.
Financial Estimates: Calculates total trip distance, fuel consumption (Gallons), and total cost based on MPG.

üõ†Ô∏è Architecture & Optimization
This project solves the "Point-to-Curve" distance problem efficiently.
Data Loading: Upon server start, thousands of truck stops are loaded into a BallTree structure for rapid radius querying.
Vectorized Projection: Instead of iterating through route segments one by one, the algorithm utilizes NumPy broadcasting to project potential fuel stops onto hundreds of route segments simultaneously.
Result: Reduces calculation time from seconds to milliseconds per request.
Route Simplification: Uses geometry simplification strategies to reduce API payload size without sacrificing accuracy.

üìã Prerequisites
Python 3.8+
OpenRouteService API Key (Free tier available)
A CSV dataset of truck stops (truckstops_geocoded.csv) containing latitude, longitude, and Retail Price.

‚öôÔ∏è Installation
Clone the repository
git clone https://github.com/tomasgentilee/challenge_spotterai.git

Create a Virtual Environment
python -m venv venv
venv\Scripts\activate

Install Dependencies
pip install -r requirements.txt

Environment Setup
Create a .env file in the root directory:
ORS_API_KEY=your_open_route_service_key_here
DEBUG=True
SECRET_KEY=your_django_secret_key

Dataset
Ensure your dataset is placed at:./datasets/truckstops_geocoded.csv

Run the Server
python manage.py runserver

üîå API Usage
Endpoint: POST /api/generate-route/Request Body:JSON{
    "origin": "Los Angeles, CA",
    "destination": "New York, NY"
}

Response:

JSON
{
    "route_summary": {
        "origin": "Los Angeles, CA",
        "destination": "New York, NY",
        "total_distance_miles": 2795.4,
        "total_fuel_gallons": 279.54,
        "total_fuel_cost": 1050.25,
        "average_price_paid": 3.75
    },
    "stops": [
        {
            "Truckstop Name": "Example Travel Center",
            "City": "Flagstaff",
            "State": "AZ",
            "Retail Price": 3.65,
            "deviation_km": 0.5,
            "latitude": 35.19,
            "longitude": -111.65
        }
        // ... more stops
    ],
    "map_url": "/media/maps/route_a1b2c3d4.html"
}

üó∫Ô∏è Visualization ExampleThe API returns a link to an HTML file generated by Folium.
üü¢ Green Marker: Origin
üî¥ Red Marker: Destination
‚õΩ Orange Markers: Optimized Fuel Stops (Popup shows price & deviation)
üîµ Blue Line: Calculated Route